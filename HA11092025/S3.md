# S3 Buckets

### Warum ist ein S3-Bucket nicht automatisch öffentlich und welche zwei Schritte braucht es für öffentliche Leserechte?
- Versehentliche Datenleaks sollen vermieden werden (Alles ist automatisch verboten, bis es erlaubt wird)
- Um zu öffnen, muss folgendes passieren:
    - Block Public Access deaktivieren
    - Die Bucket Policy muss die Öffnung explizit erlauben

### Erkläre Objekt vs. Key in S3 und warum "Ordner" eigentlich Präfixe sind.
- Ein Objekt ist die eigentliche Datei, während der Key der eindeutige absolute Pfad im Bucket ist.
- Ordner existieren in dem Sinne nicht, sondern alles befindet sich auf einer Ebene mit Präfixen im Keynamen (etwa wie ein zugemüllter Desktop). Sie werden im UI aber in Ordnerstruktur dargestellt.

### Versionierung: Was passiert beim Überschreiben / Löschen eines Objekts und wie kommt man an eine alte Version?
- Bei der Versionierung entsteht durch Überschreiben eine neue Version und die alte Version bleibt erhalten.
- Beim Löschen wird nur ein "Delete-marker" gesetzt und man kann ältere Versionen über deren ID wiederherstellen.

### CRR vs. SRR: In welchem Szenario würdest du welche Replikation nutzen?
- Cross Region Replication: Inhalte näher an den Endnutzer bringen (für Kunden in Asien bspw. Rechenzentrum Tokyo nutzen, um Latenz zu verringern).
- Same Region Replication: ?

### Nenne für zwei Storage-Klassen je einen Vorteil und einen Nachteil (z.B. Standard-IA, Glacier Instant).
- Standard-IA:
    + Vorteil: günstigere Speicherung bei seltener Nutzung.
    - Nachteil: hohe Abrufkosten

- Glacier Instant:
    + Vorteil: extrem niedrige Kosten für Archivdaten mit seltenem, aber schnellem Zugriff.
    - Nachteil: Vergleichsweise extrem hohe Abrufkosten.

### Lifecycle-Rule: Welche Kriterien würdest Du für Logs / Archive wählen, um Kosten zu optimieren?
- Logs kann man nach kurzer Zeit (1-2 Monate) in IA oder Glacier übertragen, da sie selten und idR nur im Fehlerfall gebraucht werden.
- Für Archive bietet es sich an, Dateien nach längerem Zeitraum (bspw. 1 Jahr) in den Glacier Deep Archive zu verschieben, da dort die Kosten minimal sind.